var fs=require("fs"),path=require("path"),fontManager=require("font-manager"),express=require("express"),app=express(),server=require("http").Server(app),options=function(){for(var e={},r=0;process.argv.length>r;r++)process.argv[r].match(new RegExp("^(.*?)=(.*)$"))&&(e[RegExp.$1]=RegExp.$2);return e}(),_port=options.port;_port||(_port=8081),console.log("port number is "+_port),app.use(express["static"](__dirname+"/../../")),server.listen(_port);var io=require("socket.io")(server);io.on("connection",function(e){e.on("command",function(r){var o={};"getSystemFontList"==r.api&&(o=fontManager.getAvailableFontsSync()),e.emit("result",o)})}),console.log("message: server-standby");