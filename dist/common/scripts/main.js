window.main=new function(n){function t(){window.focus(),i=io.connect("http://"+window.location.host),i.on("command",function(n){console.log(n),n=n||{},n.api=n.api||"",window.main.apis[n.api]&&window.main.apis[n.api].run(n,i)}),n("#mainform").submit(function(){window.main.showFontList()})}{var i;!function(){var n=function(){if(document.currentScript)return document.currentScript.src;var n=document.getElementsByTagName("script"),t=n[n.length-1];return t.src?t.src:void 0}();return n=n.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")}()}this.apis=new function(){},this.showFontList=function(){n(".contents").html('<ul class="font-list">'),i.emit("command",{api:"getSystemFontList"})},n(window).load(function(){t()})}(jQuery);